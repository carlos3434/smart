var Submodulos={all:function(){$.get("api/submodulos",function(o){}).done(function(o){}).fail(function(o){}).always(function(o){})},get:function(o){$.get("api/submodulos/"+o,function(o){vm.submodulo=o,$selectModulos.val(vm.submodulo.modulo_id).trigger("change")}).done(function(o){}).fail(function(o){}).always(function(o){})},store:function(){vm.submodulo.modulo_id=$selectModulos.val(),$.post("api/submodulos",vm.submodulo,function(o){reload(),$("#submoduloModal").modal("hide")}).done(function(o){}).fail(function(o){}).always(function(o){})},update:function(o){vm.submodulo.modulo_id=$selectModulos.val(),$.put("api/submodulos/"+o,vm.submodulo,function(o){reload(),$("#submoduloModal").modal("hide")}).done(function(o){}).fail(function(o){}).always(function(o){})},destroy:function(o){$.delete("api/submodulos/"+o,function(o){}).done(function(o){}).fail(function(o){}).always(function(o){})},CambiarEstadoAreas:function(o,a){}},Modulos={all:function(){$.get("modulos/lista",function(o){vm.modulos=o,$selectModulos=$("#modulos").select2({dropdownParent:$("#submoduloModal")})}).done(function(o){}).fail(function(o){}).always(function(o){})}},vm=new Vue({el:"#main",data:{submodulo:{},modulos:{},accion:""},methods:{guardarModulo:function(){"nuevo"==vm.accion?Submodulos.store():Submodulos.update(vm.submodulo.id)},storeModulo:function(){$("#submoduloModal").modal(),vm.accion="nuevo",vm.submodulo={},$selectModulos.val([]).trigger("change")}}}),tabla="datatable_tabletools",responsiveHelper_datatable_tabletools=void 0,$selectModulos,breakpointDefinition={tablet:1024,phone:480},columnDefs=[{targets:0,data:"id",name:"id",searchable:!1},{targets:1,data:"nombre",name:"nombre"},{targets:2,data:"url",name:"url"},{targets:3,data:"icon",name:"icon",searchable:!1},{targets:4,data:"modulo",name:"modulo",searchable:!1},{targets:5,name:"updated_at",searchable:!1,data:function(o,a,t,e){return'<td><button type="button" onClick="editar('+o.id+')" class="btn btn-primary">Editar</button></td>'},defaultContent:""},{targets:6,name:"deleted_at",searchable:!1,data:function(o,a,t,e){return estado='<button type="button"  onClick="activar('+o.id+')" class="btn btn-success">Inactivo</button>',null===o.deleted_at&&(estado='<button type="button" onClick="desactivar('+o.id+')" class="btn btn-success">Activo</button>'),estado},defaultContent:""}],dataTable={processing:!0,serverSide:!0,stateSave:!0,searching:!0,ordering:!0,stateLoadCallback:function(o){$("body").append('<div class="overlay"></div><div class="loading-img"></div>')},stateSaveCallback:function(o){$(".overlay,.loading-img").remove()},ajax:{url:"api/submodulos",type:"GET",data:function(o){o.per_page=o.length,o.page=(o.start+o.length)/o.length,o.filter=o.search.value}},columnDefs:columnDefs,sDom:"<'dt-toolbar'<'col-xs-12 col-sm-6'f><'col-sm-6 col-xs-6 hidden-xs'T>r>t<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-sm-6 col-xs-12'p>>",oLanguage:{sSearch:'<span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span>'},oTableTools:{aButtons:["copy","csv","xls",{sExtends:"pdf",sTitle:"SmartAdmin_PDF",sPdfMessage:"SmartAdmin PDF Export",sPdfSize:"letter"},{sExtends:"print",sMessage:"Generated by SmartAdmin <i>(press Esc to close)</i>"}],sSwfPath:"js/plugin/datatables/swf/copy_csv_xls_pdf.swf"},autoWidth:!0,preDrawCallback:function(){responsiveHelper_datatable_tabletools||(responsiveHelper_datatable_tabletools=new ResponsiveDatatablesHelper($("#"+tabla),breakpointDefinition))},rowCallback:function(o,a){responsiveHelper_datatable_tabletools.createExpandIcon(o)},drawCallback:function(o){responsiveHelper_datatable_tabletools.respond()}},datatable;$(document).ready(function(){pageSetUp(),datatable=$("#"+tabla).DataTable(dataTable),Modulos.all()}),editar=function(o){vm.accion="editar",Submodulos.get(o),$("#submoduloModal").modal()},desactivar=function(o){reload()},activar=function(o){reload()},reload=function(){datatable.ajax.reload(null,!1)};